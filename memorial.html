<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>çŒ«å’ªé¢†å…»å¹³å° - å›å¿†å¢™</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "PingFang SC", "Microsoft YaHei", sans-serif;
    }

    body {
      background-color: #f5f5f5;
      color: #333;
      padding: 20px;
      max-width: 1200px;
      margin: 0 auto;
      padding-bottom: 80px;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 0;
      margin-bottom: 20px;
    }

    .logo {
      font-size: 24px;
      font-weight: bold;
      color: #333;
    }

    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background-color: white;
      display: flex;
      justify-content: space-around;
      padding: 10px 0;
      box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
    }

    .nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-decoration: none;
      color: #666;
    }

    .nav-item.active {
      color: #ff6b6b;
    }

    .nav-icon {
      margin-bottom: 5px;
    }

    .nav-text {
      font-size: 12px;
    }

    /* é»‘ç™½ä¸»é¢˜æ ·å¼ - ä¸ºå·²å»ä¸–çš„çŒ«å’ª */
    .cat-card.memorial {
      background-color: #f0f0f0;
      border: 1px solid #ddd;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      border-radius: 16px;
      overflow: hidden;
      margin-bottom: 30px;
      opacity: 0;
      transition: opacity 1.5s ease;
    }

    .cat-card.memorial.visible {
      opacity: 1;
    }

    .cat-card.memorial .cat-image {
      filter: grayscale(100%);
      opacity: 0.9;
      width: 100%;
      height: 300px;
      object-fit: cover;
    }

    .cat-card.memorial .cat-info {
      background-color: #f0f0f0;
      color: #444;
      padding: 20px;
    }

    .cat-card.memorial .cat-name {
      color: #333;
      font-size: 22px;
      font-weight: bold;
      margin-bottom: 15px;
    }

    .cat-card.memorial .info-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
      margin-bottom: 20px;
    }

    .cat-card.memorial .info-item {
      display: flex;
      align-items: center;
    }

    .cat-card.memorial .info-label {
      color: #555;
      margin-right: 10px;
      min-width: 80px;
    }

    .cat-card.memorial .info-value {
      color: #444;
      font-weight: 500;
    }

    .cat-card.memorial .cat-description {
      color: #444;
      margin: 20px 0;
      line-height: 1.6;
    }

    .cat-card.memorial .action-buttons {
      display: flex;
      gap: 15px;
      margin-top: 20px;
      opacity: 0.8;
    }

    .cat-card.memorial .action-button {
      padding: 12px 24px;
      border-radius: 30px;
      border: none;
      font-size: 16px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .cat-card.memorial .primary-button {
      background-color: #777;
      color: white;
      flex: 2;
    }

    .cat-card.memorial .secondary-button {
      background-color: #ddd;
      color: #444;
      flex: 1;
    }

    .cat-card.memorial .memorial-badge {
      display: inline-block;
      background-color: #777;
      color: white;
      padding: 4px 10px;
      border-radius: 20px;
      font-size: 14px;
      margin-left: 10px;
      vertical-align: middle;
    }

    .shared-memory {
      margin: 15px 0;
      padding: 12px;
      background-color: #f8f8f8;
      border-radius: 8px;
      border-left: 3px solid #777;
    }

    .memory-content {
      margin: 0 0 8px 0;
      color: #444;
    }

    .memory-time {
      color: #888;
      font-size: 12px;
    }

    .memorial-header {
      text-align: center;
      margin: 30px 0;
    }

    .memorial-title {
      font-size: 28px;
      font-weight: bold;
      margin-bottom: 10px;
    }

    .memorial-subtitle {
      font-size: 16px;
      color: #666;
    }

    .memorial-intro {
      text-align: center;
      margin: 20px auto 40px;
      max-width: 800px;
      line-height: 1.6;
      color: #555;
    }

    /* èŠ±ç“£åŠ¨ç”»æ•ˆæœ */
    .petals-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
    }

    .petal {
      position: absolute;
      top: -10%;
      user-select: none;
      cursor: default;
      animation-name: falling;
      animation-timing-function: ease-in-out;
      animation-iteration-count: infinite;
    }

    @keyframes falling {
      0% {
        transform: translate(0, 0) rotate(0deg);
        opacity: 1;
      }

      100% {
        transform: translate(100px, 1000px) rotate(720deg);
        opacity: 0;
      }
    }

    .flower-count {
      margin-left: 10px;
      font-size: 14px;
      color: #666;
    }

    @media (max-width: 768px) {
      .info-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>

<body>
  <header>
    <div class="logo">å›å¿†å¢™</div>
    <div style="width: 40px;"></div>
  </header>

  <div class="memorial-header">
    <h1 class="memorial-title">æ°¸æ’çš„è®°å¿†</h1>
    <p class="memorial-subtitle">çºªå¿µé‚£äº›æ›¾ç»å¸¦ç»™æˆ‘ä»¬æ¸©æš–å’Œæ¬¢ä¹çš„å°ç”Ÿå‘½</p>
  </div>

  <div class="memorial-intro">
    å›å¿†å¢™æ˜¯ä¸ºäº†çºªå¿µé‚£äº›å·²ç»ç¦»å¼€æˆ‘ä»¬çš„çŒ«å’ªä»¬è€Œè®¾ç«‹çš„ã€‚å®ƒä»¬æ›¾ç»ç»™äºˆæˆ‘ä»¬æ— å°½çš„æ¬¢ä¹å’Œé™ªä¼´ï¼Œç°åœ¨å®ƒä»¬å¯èƒ½ç¦»å¼€äº†æˆ‘ä»¬ï¼Œä½†æ°¸è¿œæ´»åœ¨æˆ‘ä»¬çš„è®°å¿†ä¸­ã€‚é€šè¿‡è¿™ä¸ªå¹³å°ï¼Œæˆ‘ä»¬å¯ä»¥ä¸€èµ·åˆ†äº«å¯¹å®ƒä»¬çš„æ€å¿µå’Œå›å¿†ã€‚
  </div>

  <main>
    <div class="cat-card memorial" id="cat1">
      <img class="cat-image"
        src="https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80"
        alt="å°é»‘">
      <div class="cat-info">
        <h1 class="cat-name">å°é»‘ <span class="memorial-badge">å·²ç¦»ä¸–</span></h1>

        <div class="info-grid">
          <div class="info-item">
            <span class="info-label">æ¯›è‰²ï¼š</span>
            <span class="info-value">é»‘</span>
          </div>
          <div class="info-item">
            <span class="info-label">æ€§åˆ«ï¼š</span>
            <span class="info-value">å…¬</span>
          </div>
          <div class="info-item">
            <span class="info-label">çŠ¶å†µï¼š</span>
            <span class="info-value">å·²ç¦»ä¸–</span>
          </div>
          <div class="info-item">
            <span class="info-label">ç¦»ä¸–æ—¶é—´ï¼š</span>
            <span class="info-value">2023-09-15</span>
          </div>
          <div class="info-item">
            <span class="info-label">å‡ºæ²¡åœ°ç‚¹ï¼š</span>
            <span class="info-value">å®¿èˆæ¥¼</span>
          </div>
          <div class="info-item">
            <span class="info-label">åœ¨æ ¡æ—¶é—´ï¼š</span>
            <span class="info-value">2017 - 2023</span>
          </div>
        </div>

        <div class="cat-description">
          å°é»‘æ˜¯ä¸€åªæ€§æ ¼æœ‰äº›æ€•ç”Ÿçš„é»‘çŒ«ï¼Œä½†æ˜¯ä¸€æ—¦ç†Ÿæ‚‰äº†å°±ä¼šå˜å¾—å¾ˆäº²è¿‘ã€‚å®ƒå–œæ¬¢å®‰é™çš„ç¯å¢ƒï¼Œæ›¾ç»æ˜¯æ ¡å›­é‡Œæœ€å—æ¬¢è¿çš„çŒ«å’ªä¹‹ä¸€ã€‚2023å¹´9æœˆ15æ—¥ï¼Œå°é»‘å› ç—…ç¦»ä¸–ï¼Œæ°¸è¿œç¦»å¼€äº†æˆ‘ä»¬ï¼Œä½†å®ƒçš„è®°å¿†å°†æ°¸è¿œç•™åœ¨å¤§å®¶å¿ƒä¸­ã€‚
        </div>

        <div id="memories-container-cat1">
          <!-- å›å¿†å°†ä¼šè¢«åŠ¨æ€æ·»åŠ åˆ°è¿™é‡Œ -->
        </div>

        <div class="action-buttons">
          <button class="action-button primary-button" data-cat-id="cat1">çŒ®èŠ±æ‚¼å¿µ</button>
          <button class="action-button secondary-button" data-cat-id="cat1">åˆ†äº«å›å¿†</button>
        </div>
      </div>
    </div>

    <div class="cat-card memorial" id="cat2">
      <img class="cat-image"
        src="https://images.unsplash.com/photo-1511044568932-338cba0ad803?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80"
        alt="å°ç™½">
      <div class="cat-info">
        <h1 class="cat-name">å°ç™½ <span class="memorial-badge">å·²ç¦»ä¸–</span></h1>

        <div class="info-grid">
          <div class="info-item">
            <span class="info-label">æ¯›è‰²ï¼š</span>
            <span class="info-value">ç™½</span>
          </div>
          <div class="info-item">
            <span class="info-label">æ€§åˆ«ï¼š</span>
            <span class="info-value">æ¯</span>
          </div>
          <div class="info-item">
            <span class="info-label">çŠ¶å†µï¼š</span>
            <span class="info-value">å·²ç¦»ä¸–</span>
          </div>
          <div class="info-item">
            <span class="info-label">ç¦»ä¸–æ—¶é—´ï¼š</span>
            <span class="info-value">2023-01-10</span>
          </div>
          <div class="info-item">
            <span class="info-label">å‡ºæ²¡åœ°ç‚¹ï¼š</span>
            <span class="info-value">å›¾ä¹¦é¦†</span>
          </div>
          <div class="info-item">
            <span class="info-label">åœ¨æ ¡æ—¶é—´ï¼š</span>
            <span class="info-value">2018 - 2023</span>
          </div>
        </div>

        <div class="cat-description">
          å°ç™½æ˜¯å›¾ä¹¦é¦†çš„å¸¸å®¢ï¼Œç»å¸¸åœ¨å­¦ç”Ÿä»¬æ¸©ä¹ åŠŸè¯¾æ—¶å®‰é™åœ°é™ªä¼´åœ¨æ—è¾¹ã€‚å®ƒæœ‰ä¸€èº«æ´ç™½çš„æ¯›å‘å’Œè“è‰²çš„çœ¼ç›ï¼Œæ·±å—å¸ˆç”Ÿå–œçˆ±ã€‚2023å¹´1æœˆåˆçš„ä¸€ä¸ªé›ªå¤œï¼Œå°ç™½å®‰è¯¦åœ°ç¦»å¼€äº†è¿™ä¸ªä¸–ç•Œï¼Œä½†å®ƒç•™ä¸‹çš„æ¸©æš–å›å¿†å°†æ°¸è¿œå­˜åœ¨ã€‚
        </div>

        <div id="memories-container-cat2">
          <!-- å›å¿†å°†ä¼šè¢«åŠ¨æ€æ·»åŠ åˆ°è¿™é‡Œ -->
        </div>

        <div class="action-buttons">
          <button class="action-button primary-button" data-cat-id="cat2">çŒ®èŠ±æ‚¼å¿µ</button>
          <button class="action-button secondary-button" data-cat-id="cat2">åˆ†äº«å›å¿†</button>
        </div>
      </div>
    </div>
  </main>

  <!-- åº•éƒ¨å¯¼èˆª -->
  <div class="bottom-nav">
    <a href="index.html" class="nav-item">
      <div class="nav-icon">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9z" stroke="currentColor" stroke-width="2"
            stroke-linecap="round" stroke-linejoin="round" />
          <path d="M9 22V12h6v10" stroke="currentColor" stroke-width="2" stroke-linecap="round"
            stroke-linejoin="round" />
        </svg>
      </div>
      <span class="nav-text">é¦–é¡µ</span>
    </a>
    <a href="detail.html" class="nav-item">
      <div class="nav-icon">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" stroke-linecap="round"
            stroke-linejoin="round" />
          <path d="M12 8v4l2 2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
      </div>
      <span class="nav-text">è¯¦æƒ…</span>
    </a>
    <a href="memorial.html" class="nav-item active">
      <div class="nav-icon">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
      </div>
      <span class="nav-text">å›å¿†å¢™</span>
    </a>
  </div>

  <!-- èŠ±ç“£èƒŒæ™¯ -->
  <div class="petals-container" id="petalsContainer"></div>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      // èŠ±ç“£é£˜è½æ•ˆæœ
      function createPetals() {
        const container = document.getElementById('petalsContainer');
        const petalElements = [
          'ğŸŒ¸', 'ğŸŒº', 'ğŸŒ¹', 'ğŸŒ·', 'ğŸŒ»', 'ğŸŒ¼', 'ğŸ‚', 'ğŸ'
        ];

        for (let i = 0; i < 30; i++) {
          const petal = document.createElement('div');
          petal.className = 'petal';

          // éšæœºé€‰æ‹©ä¸€ä¸ªèŠ±ç“£å…ƒç´ 
          const petalType = petalElements[Math.floor(Math.random() * petalElements.length)];
          petal.textContent = petalType;

          // éšæœºä½ç½®
          petal.style.left = `${Math.random() * 100}%`;

          // éšæœºå¤§å°
          const size = Math.random() * 20 + 20;
          petal.style.fontSize = `${size}px`;

          // éšæœºæ—‹è½¬
          petal.style.transform = `rotate(${Math.random() * 360}deg)`;

          // éšæœºåŠ¨ç”»æ—¶é•¿
          const duration = Math.random() * 20 + 10;
          petal.style.animationDuration = `${duration}s`;

          // éšæœºå»¶è¿Ÿ
          const delay = Math.random() * 15;
          petal.style.animationDelay = `${delay}s`;

          container.appendChild(petal);
        }
      }

      // åˆ›å»ºèŠ±ç“£èƒŒæ™¯
      createPetals();

      // å¡ç‰‡æ·¡å…¥æ•ˆæœ
      const memorialCards = document.querySelectorAll('.cat-card.memorial');
      memorialCards.forEach((card, index) => {
        setTimeout(() => {
          card.classList.add('visible');
        }, 300 * (index + 1));
      });

      // å¤„ç†çŒ®èŠ±å’Œåˆ†äº«å›å¿†
      const tributeButtons = document.querySelectorAll('.primary-button');
      const shareButtons = document.querySelectorAll('.secondary-button');

      // å­˜å‚¨æ¯åªçŒ«çš„èŠ±æœµæ•°é‡
      const flowerCounts = {
        cat1: 68,
        cat2: 42
      };

      // ä¸ºæ¯ä¸ªçŒ®èŠ±æŒ‰é’®æ·»åŠ èŠ±æœµè®¡æ•°å™¨
      tributeButtons.forEach(button => {
        const catId = button.dataset.catId;
        const count = flowerCounts[catId] || 0;

        const flowerCountElement = document.createElement("span");
        flowerCountElement.className = "flower-count";
        flowerCountElement.textContent = count > 0 ? `å·²æœ‰ ${count} æœµèŠ±` : "";
        button.appendChild(flowerCountElement);
      });

      tributeButtons.forEach(button => {
        button.addEventListener('click', function () {
          const catId = this.dataset.catId;
          flowerCounts[catId] = (flowerCounts[catId] || 0) + 1;

          // æ›´æ–°èŠ±æœµè®¡æ•°æ˜¾ç¤º
          const flowerCountElement = this.querySelector('.flower-count');
          flowerCountElement.textContent = `å·²æœ‰ ${flowerCounts[catId]} æœµèŠ±`;

          // åˆ›å»ºèŠ±æœµåŠ¨ç”»
          const catCard = document.getElementById(catId);
          const flower = document.createElement("div");
          flower.className = "flower";
          flower.innerHTML = "ğŸŒ¹";
          flower.style.position = "absolute";
          flower.style.fontSize = "24px";
          flower.style.left = `${Math.random() * 80 + 10}%`;
          flower.style.top = `${Math.random() * 40 + 30}%`;
          flower.style.opacity = "0";
          flower.style.transform = "translateY(20px)";
          flower.style.transition = "all 1.5s ease";
          catCard.appendChild(flower);

          setTimeout(() => {
            flower.style.opacity = "1";
            flower.style.transform = "translateY(0)";
          }, 100);

          setTimeout(() => {
            flower.style.opacity = "0";
            setTimeout(() => {
              flower.remove();
            }, 1500);
          }, 3000);
        });
      });

      shareButtons.forEach(button => {
        button.addEventListener('click', function () {
          const catId = this.dataset.catId;
          const catCard = document.getElementById(catId);
          const memoriesContainer = document.getElementById(`memories-container-${catId}`);

          const memoryText = prompt("è¯·åˆ†äº«æ‚¨çš„å›å¿†:", "");
          if (memoryText && memoryText.trim() !== "") {
            const memoryElement = document.createElement("div");
            memoryElement.className = "shared-memory";

            const memoryContent = document.createElement("p");
            memoryContent.className = "memory-content";
            memoryContent.textContent = memoryText;

            const memoryTime = document.createElement("small");
            memoryTime.className = "memory-time";
            memoryTime.textContent = new Date().toLocaleString();

            memoryElement.appendChild(memoryContent);
            memoryElement.appendChild(memoryTime);

            memoriesContainer.appendChild(memoryElement);

            // ä¿å­˜å›å¿†åˆ°æœ¬åœ°å­˜å‚¨
            saveMemory(catId, memoryText, new Date().toLocaleString());
          }
        });
      });

      // ä»æœ¬åœ°å­˜å‚¨åŠ è½½å›å¿†
      function loadMemories() {
        const memorialCards = document.querySelectorAll('.cat-card.memorial');
        memorialCards.forEach(card => {
          const catId = card.id;
          const memories = JSON.parse(localStorage.getItem(`memories-${catId}`)) || [];
          const memoriesContainer = document.getElementById(`memories-container-${catId}`);

          memories.forEach(memory => {
            const memoryElement = document.createElement("div");
            memoryElement.className = "shared-memory";

            const memoryContent = document.createElement("p");
            memoryContent.className = "memory-content";
            memoryContent.textContent = memory.text;

            const memoryTime = document.createElement("small");
            memoryTime.className = "memory-time";
            memoryTime.textContent = memory.time;

            memoryElement.appendChild(memoryContent);
            memoryElement.appendChild(memoryTime);

            memoriesContainer.appendChild(memoryElement);
          });
        });
      }

      // ä¿å­˜å›å¿†åˆ°æœ¬åœ°å­˜å‚¨
      function saveMemory(catId, text, time) {
        const memories = JSON.parse(localStorage.getItem(`memories-${catId}`)) || [];
        memories.push({ text, time });
        localStorage.setItem(`memories-${catId}`, JSON.stringify(memories));
      }

      // åŠ è½½ä¿å­˜çš„å›å¿†
      loadMemories();
    });
  </script>
</body>

</html>